{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/eslint-ja-proxy/schemas/translation-entry.json",
  "title": "TranslationEntry",
  "description": "ESLint ルールメッセージの日本語翻訳エントリ",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "ruleId": {
      "type": "string",
      "minLength": 1,
      "description": "ESLint ルール ID（例: no-unused-vars, @typescript-eslint/no-explicit-any）"
    },
    "messageId": {
      "type": "string",
      "minLength": 1,
      "description": "メッセージ ID（ESLint が提供）"
    },
    "template": {
      "type": "string",
      "minLength": 1,
      "description": "日本語テンプレート。{name} などのプレースホルダを含む"
    },
    "placeholders": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[a-zA-Z_][a-zA-Z0-9_]*$"
      },
      "uniqueItems": true,
      "description": "テンプレート内のプレースホルダ一覧"
    },
    "dataKeys": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[a-zA-Z_][a-zA-Z0-9_]*$"
      },
      "uniqueItems": true,
      "description": "ESLint が渡す data オブジェクトで参照するキー"
    },
    "sourceEnglish": {
      "type": "string",
      "description": "元の英語メッセージ（参考用）"
    },
    "notes": {
      "type": "string",
      "description": "備考・ドキュメントへのリンクなど"
    },
    "regex": {
      "type": "object",
      "additionalProperties": false,
      "description": "messageId が無い場合のフォールバック用（正規表現）",
      "properties": {
        "pattern": {
          "type": "string",
          "minLength": 1,
          "description": "正規表現パターン"
        },
        "flags": {
          "type": "string",
          "pattern": "^[gimuyUS]*$",
          "default": "",
          "description": "正規表現フラグ"
        },
        "template": {
          "type": "string",
          "minLength": 1,
          "description": "キャプチャグループを使った日本語テンプレート（{1}, {2} など）"
        }
      },
      "required": ["pattern", "template"]
    }
  },
  "allOf": [
    {
      "required": ["ruleId", "messageId"]
    },
    {
      "oneOf": [
        {
          "required": ["template"],
          "not": {
            "required": ["regex"]
          }
        },
        {
          "required": ["regex"],
          "not": {
            "required": ["template"]
          }
        }
      ]
    }
  ]
}
